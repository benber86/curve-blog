const overlapProductList = ["All", "Trading", "UI Router", "LP", "Lending", "crvUSD", "DAO"];
const overlapData = {'all': {'All': {'Aave V3': 36.431742508324085,
            'Convex': 23.362930077691455,
            'Ethena': 22.225305216426193,
            'Pendle V2': 21.254162042175363,
            'ether.fi': 15.538290788013317,
            'Beefy': 14.215686274509803,
            'Stargate': 12.13466518682945,
            'Mitosis': 12.13466518682945,
            'Elixir': 12.116167221605624,
            'EigenLayer': 12.088420273769886,
            'Karak': 11.93118756936737,
            'Uniswap V3': 11.403995560488346,
            'Aerodrome': 10.895301516833149,
            'Zircuit': 10.543840177580465,
            'ZeroLend': 10.331113577506475,
            'Velodrome V2': 9.091749907510174,
            'Swell': 8.832778394376618,
            'Ambient': 8.758786533481317,
            'Symbiotic': 8.22234554199038,
            'Stake DAO': 8.194598594154643,
            'SyncSwap': 8.111357750647429,
            'GMX': 7.870884202737699,
            'Magpie XYZ': 7.3899371069182385,
            'Frax': 7.103218645948946,
            'Synthetix': 6.8165001849796525},
        'Trading': {'Ethena': 25.26772055073942,
            'Aave V3': 18.96991330953595,
            'Pendle V2': 16.11422743498215,
            'ether.fi': 11.320754716981133,
            'Convex': 10.836308006119328,
            'Karak': 9.790922998470169,
            'Mitosis': 9.561448240693524,
            'Elixir': 9.510453850076491,
            'Zircuit': 9.306476287608364,
            'EigenLayer': 9.178990311065782,
            'Stargate': 8.796532381438043,
            'ZeroLend': 7.980622131565528,
            'Swell': 7.037225905150433,
            'Ambient': 6.527281998980112,
            'Beefy': 6.501784803671597,
            'Symbiotic': 6.22131565527792,
            'Aerodrome': 6.195818459969404,
            'Uniswap V3': 6.170321264660887,
            'SyncSwap': 5.838857725650178,
            'Pencils Protocol': 5.124936257011728,
            'LayerBank': 4.6149923508414075,
            'Velodrome V2': 4.411014788373279,
            'Superform': 4.309026007139215,
            'GMX': 4.232534421213666,
            'Magpie XYZ': 4.20703722590515},
        'UI Router': {'Aave V3': 21.7781851512374,
            'Convex': 14.042163153070577,
            'Pendle V2': 10.77910174152154,
            'ether.fi': 7.809349220898258,
            'Beefy': 7.68102658111824,
            'Ethena': 7.222731439046746,
            'Stargate': 6.8744271310724105,
            'Uniswap V3': 6.617781851512373,
            'Aerodrome': 6.122823098075161,
            'EigenLayer': 5.8845096241979835,
            'Elixir': 5.847846012832264,
            'ZeroLend': 5.756186984417965,
            'Mitosis': 5.627864344637947,
            'Karak': 5.5912007332722276,
            'Velodrome V2': 5.187901008249312,
            'Stake DAO': 5.059578368469294,
            'Ambient': 4.711274060494959,
            'SyncSwap': 4.692942254812099,
            'GMX': 4.546287809349221,
            'Zircuit': 4.271310724106325,
            'Swell': 4.197983501374885,
            'Symbiotic': 3.8680109990834097,
            'Synthetix': 3.84967919340055,
            'Frax': 3.794683776351971,
            'LIDO': 3.6480293308890923},
        'LP': {'Aave V3': 27.760641579272054,
            'Ethena': 19.16512440880115,
            'Convex': 17.80793748714785,
            'Pendle V2': 16.615258071149498,
            'Beefy': 13.263417643429982,
            'ether.fi': 12.872712317499484,
            'Mitosis': 11.597779148673657,
            'Elixir': 10.980876002467612,
            'Karak': 10.610734114743984,
            'EigenLayer': 10.261155665227225,
            'Zircuit': 9.993830968537939,
            'Stargate': 9.973267530331071,
            'Aerodrome': 8.986222496401398,
            'Uniswap V3': 8.760024676125848,
            'ZeroLend': 8.389882788402222,
            'Ambient': 7.772979642196175,
            'Symbiotic': 7.690725889368702,
            'Swell': 7.464528069093153,
            'Velodrome V2': 7.341147439851943,
            'SyncSwap': 6.991568990335184,
            'GMX': 6.312975529508534,
            'Pencils Protocol': 6.230721776681062,
            'Magpie XYZ': 6.066214271026116,
            'Stake DAO': 5.881143327164302,
            'Frax': 5.654945506888752},
        'Lending': {'Aave V3': 35.58282208588957,
            'Convex': 21.104294478527606,
            'Pendle V2': 15.70552147239264,
            'Uniswap V3': 13.496932515337424,
            'Beefy': 13.496932515337424,
            'ether.fi': 12.63803680981595,
            'Magpie XYZ': 7.975460122699387,
            'Stake DAO': 6.993865030674846,
            'Velodrome V2': 6.871165644171779,
            'Compound V3': 6.748466257668712,
            'Aerodrome': 6.748466257668712,
            'EigenLayer': 6.625766871165645,
            'ZeroLend': 6.38036809815951,
            'Karak': 6.134969325153374,
            'GMX': 6.134969325153374,
            'Synthetix': 5.766871165644172,
            'Elixir': 5.521472392638037,
            'Swell': 5.398773006134969,
            'Radiant Capital V2': 5.276073619631902,
            'Camelot': 5.276073619631902,
            'Silo': 5.153374233128835,
            'Mitosis': 4.662576687116564,
            'Morpho Blue': 4.662576687116564,
            'LayerBank': 4.539877300613497,
            'LIDO': 4.41717791411043},
        'crvUSD': {'Aave V3': 15.91194968553459,
            'Convex': 9.056603773584905,
            'Aave V2': 6.226415094339623,
            'Pendle V2': 5.345911949685535,
            'LIDO': 3.710691823899371,
            'Uniswap V3': 3.647798742138365,
            'Beefy': 3.5849056603773586,
            'Aerodrome': 3.207547169811321,
            'ether.fi': 3.207547169811321,
            'Stake DAO': 3.018867924528302,
            'Magpie XYZ': 2.8930817610062896,
            'Frax': 2.8301886792452833,
            'EigenLayer': 2.767295597484277,
            'GMX': 2.7044025157232707,
            'Fraxlend': 2.6415094339622645,
            'Velodrome V2': 2.578616352201258,
            'Compound V3': 2.515723270440252,
            'Synthetix': 2.4528301886792456,
            'Aura Finance': 2.2641509433962264,
            'Extra Finance': 2.20125786163522,
            'Morpho Blue': 2.0125786163522013,
            'Llama Airforce Union': 1.949685534591195,
            'Camelot': 1.949685534591195,
            'Ethena': 1.949685534591195,
            'Yearn V2': 1.8867924528301887},
        'DAO': {'Convex': 36.77884615384615,
            'Aave V3': 27.403846153846157,
            'Velodrome V2': 17.548076923076923,
            'Synthetix': 15.625,
            'Frax': 15.144230769230768,
            'Aerodrome': 13.942307692307693,
            'Stake DAO': 13.942307692307693,
            'Pendle V2': 13.701923076923078,
            'Beefy': 12.259615384615383,
            'Stargate': 11.778846153846153,
            'Aura Finance': 11.298076923076923,
            'Concentrator': 10.336538461538462,
            'Aave V2': 10.096153846153847,
            'Yearn V2': 9.615384615384617,
            'GMX': 8.89423076923077,
            'Llama Airforce Union': 8.653846153846153,
            'LIDO': 8.653846153846153,
            'Magpie XYZ': 8.653846153846153,
            'Uniswap V3': 8.653846153846153,
            'Votium': 7.9326923076923075,
            'Balancer V2': 7.6923076923076925,
            'ether.fi': 7.211538461538461,
            'EigenLayer': 6.971153846153847,
            'Fixedforex': 6.490384615384616,
            'ParaSwap': 6.25}},
    'arbitrum': {'All': {'Aave V3': 30.632911392405067,
            'Convex': 18.915009041591322,
            'Beefy': 17.323688969258587,
            'Pendle V2': 14.430379746835442,
            'Uniswap V3': 10.849909584086799,
            'Aerodrome': 9.113924050632912,
            'ether.fi': 9.005424954792044,
            'Magpie XYZ': 8.571428571428571,
            'GMX': 8.1374321880651,
            'Stake DAO': 7.6672694394213385,
            'Velodrome V2': 7.450271247739602,
            'Stargate': 6.9801084990958415,
            'Camelot': 6.907775768535263,
            'ZeroLend': 6.401446654611212,
            'Silo': 6.148282097649186,
            'Karak': 5.967450271247739,
            'Mitosis': 5.786618444846293,
            'Frax': 5.750452079566004,
            'Compound V3': 5.461121157323689,
            'Extra Finance': 5.38878842676311,
            'GMX V2': 5.352622061482821,
            'Radiant Capital V2': 5.135623869801085,
            'EigenLayer': 5.099457504520796,
            'Yearn V2': 4.954792043399638,
            'Elixir': 4.954792043399638},
        'Trading': {'Aave V3': 16.728624535315987,
            'Convex': 11.71003717472119,
            'Beefy': 11.152416356877323,
            'Pendle V2': 10.594795539033457,
            'Stake DAO': 7.434944237918216,
            'Magpie XYZ': 6.691449814126393,
            'GMX': 6.5055762081784385,
            'Aerodrome': 6.319702602230483,
            'ether.fi': 5.947955390334572,
            'Velodrome V2': 5.204460966542751,
            'Uniswap V3': 5.204460966542751,
            'Stargate': 5.018587360594796,
            'Karak': 4.646840148698884,
            'Radiant Capital V2': 4.646840148698884,
            'Ethena': 4.4609665427509295,
            'Frax': 4.4609665427509295,
            'Camelot': 4.4609665427509295,
            'Yearn V2': 4.4609665427509295,
            'Balancer V2': 4.275092936802974,
            'Silo': 4.275092936802974,
            'Fraxlend': 4.089219330855019,
            'ZeroLend': 4.089219330855019,
            'Aura Finance': 3.903345724907063,
            'GMX V2': 3.717472118959108,
            'Mitosis': 3.717472118959108},
        'UI Router': {'Aave V3': 26.116504854368934,
            'Convex': 16.310679611650485,
            'Pendle V2': 14.077669902912621,
            'Beefy': 12.815533980582524,
            'Uniswap V3': 9.41747572815534,
            'ether.fi': 9.41747572815534,
            'Stargate': 8.155339805825243,
            'Aerodrome': 7.961165048543689,
            'ZeroLend': 7.281553398058252,
            'GMX': 6.796116504854369,
            'Stake DAO': 6.699029126213592,
            'Magpie XYZ': 6.5048543689320395,
            'Mitosis': 6.310679611650485,
            'Karak': 6.213592233009709,
            'Velodrome V2': 6.116504854368932,
            'EigenLayer': 5.922330097087379,
            'SyncSwap': 5.728155339805825,
            'Elixir': 5.436893203883495,
            'Camelot': 5.436893203883495,
            'Ethena': 4.854368932038835,
            'Ambient': 4.757281553398058,
            'Swell': 4.757281553398058,
            'GMX V2': 4.757281553398058,
            'Silo': 4.563106796116505,
            'Compound V3': 4.466019417475728},
        'LP': {'Aave V3': 41.853932584269664,
            'Beefy': 29.775280898876407,
            'Convex': 28.370786516853936,
            'Pendle V2': 19.52247191011236,
            'Uniswap V3': 15.870786516853933,
            'Aerodrome': 14.325842696629213,
            'Magpie XYZ': 12.5,
            'GMX': 12.219101123595506,
            'Velodrome V2': 11.376404494382022,
            'ether.fi': 10.814606741573034,
            'Extra Finance': 10.814606741573034,
            'Camelot': 10.674157303370785,
            'Stake DAO': 10.53370786516854,
            'Frax': 10.393258426966293,
            'Silo': 9.831460674157304,
            'Aura Finance': 9.550561797752808,
            'Stargate': 8.848314606741573,
            'GMX V2': 7.865168539325842,
            'Balancer V2': 7.724719101123595,
            'ZeroLend': 7.584269662921349,
            'Yearn V2': 7.443820224719102,
            'Mitosis': 7.162921348314606,
            'Radiant Capital V2': 6.882022471910113,
            'SyncSwap': 6.741573033707865,
            'Karak': 6.741573033707865},
        'Lending': {'Aave V3': 39.175257731958766,
            'Convex': 18.556701030927837,
            'Beefy': 15.463917525773196,
            'Uniswap V3': 12.783505154639174,
            'Pendle V2': 11.958762886597938,
            'Magpie XYZ': 9.278350515463918,
            'ether.fi': 8.8659793814433,
            'Compound V3': 8.65979381443299,
            'Camelot': 7.216494845360824,
            'Velodrome V2': 7.010309278350515,
            'Aerodrome': 7.010309278350515,
            'GMX': 6.804123711340206,
            'Silo': 6.185567010309279,
            'Stake DAO': 5.77319587628866,
            'Synthetix': 5.77319587628866,
            'Karak': 5.77319587628866,
            'Contango': 5.567010309278351,
            'Radiant Capital V2': 5.567010309278351,
            'ZeroLend': 5.360824742268041,
            'EigenLayer': 4.948453608247423,
            'Mitosis': 4.948453608247423,
            'Elixir': 4.742268041237113,
            'GMX V2': 4.742268041237113,
            'Llama Airforce Union': 4.329896907216495,
            'Fraxlend': 4.123711340206185},
        'crvUSD': {},
        'DAO': {}},
    'ethereum': {'All': {'Aave V3': 20.08174386920981,
            'Ethena': 19.909173478655767,
            'Pendle V2': 15.231607629427794,
            'Convex': 13.960036330608538,
            'ether.fi': 11.262488646684831,
            'EigenLayer': 9.564032697547683,
            'Elixir': 9.491371480472298,
            'Karak': 9.382379654859218,
            'Mitosis': 8.746594005449591,
            'Zircuit': 8.555858310626704,
            'Stargate': 8.310626702997276,
            'ZeroLend': 6.830154405086285,
            'Swell': 6.784741144414169,
            'Symbiotic': 6.603088101725704,
            'Aerodrome': 6.33969118982743,
            'Uniswap V3': 6.31244323342416,
            'Ambient': 6.2216167120799275,
            'Beefy': 5.967302452316076,
            'SyncSwap': 5.5858310626703,
            'Velodrome V2': 5.213442325158947,
            'Stake DAO': 4.741144414168938,
            'LIDO': 4.713896457765668,
            'Pencils Protocol': 4.704813805631244,
            'GMX': 4.604904632152588,
            'Frax': 4.4141689373297},
        'Trading': {'Ethena': 32.977624784853695,
            'Pendle V2': 18.89845094664372,
            'Aave V3': 18.450946643717728,
            'ether.fi': 13.425129087779691,
            'Karak': 12.048192771084338,
            'Mitosis': 11.910499139414803,
            'Elixir': 11.738382099827884,
            'EigenLayer': 11.635111876075733,
            'Zircuit': 11.566265060240964,
            'Convex': 10.327022375215146,
            'Stargate': 10.08605851979346,
            'ZeroLend': 9.363166953528399,
            'Swell': 8.640275387263339,
            'Ambient': 7.917383820998279,
            'Symbiotic': 7.779690189328743,
            'SyncSwap': 7.29776247848537,
            'Uniswap V3': 6.368330464716007,
            'Aerodrome': 6.12736660929432,
            'Pencils Protocol': 6.058519793459553,
            'LayerBank': 5.576592082616179,
            'Beefy': 5.40447504302926,
            'Fuel': 5.197934595524957,
            'Reya': 5.163511187607573,
            'Superform': 4.95697074010327,
            'Blackwing': 4.23407917383821},
        'UI Router': {'Aave V3': 22.52883031301483,
            'Convex': 16.84514003294893,
            'Pendle V2': 14.497528830313014,
            'Ethena': 12.561779242174628,
            'ether.fi': 9.925864909390445,
            'EigenLayer': 8.278418451400329,
            'Karak': 8.15485996705107,
            'Elixir': 8.15485996705107,
            'Stargate': 7.990115321252059,
            'Aerodrome': 6.548599670510709,
            'Uniswap V3': 6.507413509060955,
            'Zircuit': 6.383855024711697,
            'Mitosis': 6.0543657331136735,
            'Stake DAO': 6.013179571663921,
            'LIDO': 5.930807248764415,
            'Swell': 5.889621087314662,
            'Beefy': 5.683690280065898,
            'Symbiotic': 5.642504118616145,
            'Velodrome V2': 5.642504118616145,
            'ZeroLend': 5.518945634266887,
            'GMX': 5.230642504118617,
            'Ambient': 5.189456342668864,
            'Frax': 4.85996705107084,
            'SyncSwap': 4.612850082372323,
            'Synthetix': 4.448105436573312},
        'LP': {'Ethena': 25.591140377132593,
            'Aave V3': 19.784495659982042,
            'Pendle V2': 16.881173301406765,
            'ether.fi': 14.007782101167315,
            'Convex': 13.439090092786591,
            'Elixir': 13.319365459443281,
            'Karak': 12.81053576773421,
            'Mitosis': 12.81053576773421,
            'EigenLayer': 12.301706076025141,
            'Zircuit': 12.271774917689314,
            'Stargate': 10.176593834181382,
            'Symbiotic': 9.398383717449866,
            'ZeroLend': 8.680035917390002,
            'Swell': 8.560311284046692,
            'Ambient': 8.530380125710865,
            'SyncSwap': 7.512720742292727,
            'Aerodrome': 6.914097575576175,
            'Pencils Protocol': 6.764441783897037,
            'Beefy': 6.554923675546244,
            'Reya': 6.465130200538762,
            'Superform': 6.285543250523795,
            'Uniswap V3': 6.285543250523795,
            'LayerBank': 6.135887458844657,
            'Fuel': 5.956300508829691,
            'Velodrome V2': 5.447470817120623},
        'Lending': {'Aave V3': 30.303030303030305,
            'Convex': 24.848484848484848,
            'Pendle V2': 21.21212121212121,
            'ether.fi': 18.181818181818183,
            'Uniswap V3': 14.545454545454545,
            'Beefy': 10.606060606060606,
            'EigenLayer': 9.090909090909092,
            'Stake DAO': 8.787878787878787,
            'ZeroLend': 7.878787878787878,
            'Swell': 7.2727272727272725,
            'Symbiotic': 7.2727272727272725,
            'Ethena': 7.2727272727272725,
            'Velodrome V2': 6.666666666666667,
            'Elixir': 6.666666666666667,
            'Karak': 6.666666666666667,
            'Aerodrome': 6.363636363636363,
            'Magpie XYZ': 6.0606060606060606,
            'Morpho Blue': 5.757575757575758,
            'LIDO': 5.757575757575758,
            'Synthetix': 5.757575757575758,
            'LayerBank': 5.757575757575758,
            'Zircuit': 5.757575757575758,
            'Extra Finance': 5.454545454545454,
            'Aave V2': 5.151515151515151,
            'GMX': 5.151515151515151},
        'crvUSD': {'Aave V3': 15.91194968553459,
            'Convex': 9.056603773584905,
            'Aave V2': 6.226415094339623,
            'Pendle V2': 5.345911949685535,
            'LIDO': 3.710691823899371,
            'Uniswap V3': 3.647798742138365,
            'Beefy': 3.5849056603773586,
            'Aerodrome': 3.207547169811321,
            'ether.fi': 3.207547169811321,
            'Stake DAO': 3.018867924528302,
            'Magpie XYZ': 2.8930817610062896,
            'Frax': 2.8301886792452833,
            'EigenLayer': 2.767295597484277,
            'GMX': 2.7044025157232707,
            'Fraxlend': 2.6415094339622645,
            'Velodrome V2': 2.578616352201258,
            'Compound V3': 2.515723270440252,
            'Synthetix': 2.4528301886792456,
            'Aura Finance': 2.2641509433962264,
            'Extra Finance': 2.20125786163522,
            'Morpho Blue': 2.0125786163522013,
            'Llama Airforce Union': 1.949685534591195,
            'Camelot': 1.949685534591195,
            'Ethena': 1.949685534591195,
            'Yearn V2': 1.8867924528301887},
        'DAO': {'Convex': 36.77884615384615,
            'Aave V3': 27.403846153846157,
            'Velodrome V2': 17.548076923076923,
            'Synthetix': 15.625,
            'Frax': 15.144230769230768,
            'Aerodrome': 13.942307692307693,
            'Stake DAO': 13.942307692307693,
            'Pendle V2': 13.701923076923078,
            'Beefy': 12.259615384615383,
            'Stargate': 11.778846153846153,
            'Aura Finance': 11.298076923076923,
            'Concentrator': 10.336538461538462,
            'Aave V2': 10.096153846153847,
            'Yearn V2': 9.615384615384617,
            'GMX': 8.89423076923077,
            'Llama Airforce Union': 8.653846153846153,
            'LIDO': 8.653846153846153,
            'Magpie XYZ': 8.653846153846153,
            'Uniswap V3': 8.653846153846153,
            'Votium': 7.9326923076923075,
            'Balancer V2': 7.6923076923076925,
            'ether.fi': 7.211538461538461,
            'EigenLayer': 6.971153846153847,
            'Fixedforex': 6.490384615384616,
            'ParaSwap': 6.25}},
    'base': {'All': {'Aave V3': 16.598192276088746,
            'Convex': 6.655710764174199,
            'Uniswap V3': 5.916187345932621,
            'Beefy': 5.669679539852095,
            'Stargate': 5.5053410024650775,
            'ZeroLend': 5.5053410024650775,
            'Aerodrome': 5.094494658997535,
            'SyncSwap': 4.6014790468364835,
            'Mitosis': 4.272801972062449,
            'Ambient': 4.19063270336894,
            'Mendi Finance': 3.61544782251438,
            'LayerBank': 3.451109285127362,
            'ether.fi': 3.3689400164338537,
            'Elixir': 3.2867707477403454,
            'Pencils Protocol': 3.2867707477403454,
            'Superform': 3.122432210353328,
            'Velodrome V2': 2.875924404272802,
            'Extra Finance': 2.711585866885785,
            'Pendle V2': 2.5472473294987674,
            'Zircuit': 2.38290879211175,
            'Silo': 2.218570254724733,
            'Compound V3': 2.218570254724733,
            'Symbiotic': 2.0542317173377156,
            'Swell': 2.0542317173377156,
            'Synthetix': 1.9720624486442069},
        'Trading': {'Aave V3': 25.423728813559322,
            'Uniswap V3': 22.033898305084744,
            'Convex': 15.254237288135593,
            'Aerodrome': 11.864406779661017,
            'PancakeSwap V3': 6.779661016949152,
            'Synthetix': 6.779661016949152,
            'Pencils Protocol': 6.779661016949152,
            'Zircuit': 6.779661016949152,
            'Layer3': 6.779661016949152,
            'Morpho Blue': 6.779661016949152,
            'Extra Finance': 5.084745762711865,
            'ether.fi': 5.084745762711865,
            'Velodrome V2': 5.084745762711865,
            'Base Bridge': 5.084745762711865,
            'SpaceFi': 3.389830508474576,
            'Elixir': 3.389830508474576,
            'Fuel': 3.389830508474576,
            'Beefy': 3.389830508474576,
            'Karak': 3.389830508474576,
            'Balancer V2': 3.389830508474576,
            'Compound V3': 3.389830508474576,
            'CoW Swap': 3.389830508474576,
            'Swell': 3.389830508474576,
            'ParaSwap': 3.389830508474576,
            'ionic': 3.389830508474576},
        'UI Router': {'Aave V3': 10.782241014799155,
            'ZeroLend': 5.179704016913319,
            'Stargate': 4.545454545454546,
            'SyncSwap': 3.8054968287526427,
            'Uniswap V3': 3.699788583509514,
            'Ambient': 3.488372093023256,
            'Mendi Finance': 3.382663847780127,
            'Convex': 3.276955602536998,
            'Mitosis': 3.06553911205074,
            'Aerodrome': 2.748414376321353,
            'LayerBank': 2.6427061310782243,
            'Beefy': 2.431289640591966,
            'Elixir': 2.431289640591966,
            'ether.fi': 2.3255813953488373,
            'Superform': 2.3255813953488373,
            'Pencils Protocol': 2.1141649048625792,
            'Velodrome V2': 1.9027484143763214,
            'Pendle V2': 1.9027484143763214,
            'EigenLayer': 1.5856236786469344,
            'Compound V3': 1.4799154334038054,
            'Symbiotic': 1.4799154334038054,
            'Extra Finance': 1.4799154334038054,
            'Swell': 1.4799154334038054,
            'Zircuit': 1.3742071881606766,
            'Karak': 1.3742071881606766},
        'LP': {'Aave V3': 40.09433962264151,
            'Beefy': 20.754716981132077,
            'Convex': 19.339622641509436,
            'Aerodrome': 13.679245283018867,
            'Uniswap V3': 11.320754716981133,
            'Stargate': 10.377358490566039,
            'Mitosis': 10.377358490566039,
            'SyncSwap': 8.962264150943396,
            'ZeroLend': 8.49056603773585,
            'Ambient': 8.018867924528301,
            'Pencils Protocol': 7.547169811320755,
            'Extra Finance': 7.547169811320755,
            'ether.fi': 7.547169811320755,
            'Elixir': 7.0754716981132075,
            'Aura Finance': 7.0754716981132075,
            'Silo': 7.0754716981132075,
            'LayerBank': 7.0754716981132075,
            'Superform': 7.0754716981132075,
            'Velodrome V2': 6.60377358490566,
            'Zircuit': 5.660377358490567,
            'Compound V3': 5.188679245283019,
            'Pendle V2': 5.188679245283019,
            'ionic': 5.188679245283019,
            'Mendi Finance': 5.188679245283019,
            'Synthetix': 5.188679245283019},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'xdai': {'All': {'Aave V3': 46.913580246913575,
            'Stake DAO': 16.049382716049383,
            'Aura Finance': 14.814814814814813,
            'Convex': 13.580246913580247,
            'StakeWise': 13.580246913580247,
            'CoW Swap': 11.11111111111111,
            'Beefy': 8.641975308641975,
            'LIDO': 8.641975308641975,
            'Velodrome V2': 7.4074074074074066,
            'Pendle V2': 7.4074074074074066,
            'gTrade': 7.4074074074074066,
            'Balancer V2': 7.4074074074074066,
            'Silo': 6.172839506172839,
            'Extra Finance': 6.172839506172839,
            'Gnosis Beacon Chain': 6.172839506172839,
            'ether.fi': 4.938271604938271,
            'The Graph': 4.938271604938271,
            'ZeroLend': 4.938271604938271,
            'Aerodrome': 4.938271604938271,
            'Polygon Staking': 4.938271604938271,
            'Gnosis': 4.938271604938271,
            'CLever CVX': 4.938271604938271,
            'Livepeer': 4.938271604938271,
            'Spark': 3.7037037037037033,
            'Concentrator': 3.7037037037037033},
        'Trading': {'Aave V3': 26.666666666666668,
            'StakeWise': 17.77777777777778,
            'Convex': 13.333333333333334,
            'Aura Finance': 13.333333333333334,
            'CoW Swap': 8.88888888888889,
            'ZeroLend': 8.88888888888889,
            'Stake DAO': 8.88888888888889,
            'Beefy': 8.88888888888889,
            'Pendle V2': 8.88888888888889,
            'LIDO': 6.666666666666667,
            'Gnosis Beacon Chain': 6.666666666666667,
            'Aerodrome': 6.666666666666667,
            'Velodrome V2': 6.666666666666667,
            'GMX': 6.666666666666667,
            'Extra Finance': 6.666666666666667,
            'ether.fi': 6.666666666666667,
            'gTrade': 6.666666666666667,
            'Equalizer': 6.666666666666667,
            'Mitosis': 4.444444444444445,
            'Llama Airforce Union': 4.444444444444445,
            'Fraxlend': 4.444444444444445,
            'Zircuit': 4.444444444444445,
            'Contango': 4.444444444444445,
            'Ambient': 4.444444444444445,
            'The Graph': 4.444444444444445},
        'UI Router': {'Aave V3': 75.0,
            'Stake DAO': 20.0,
            'Beefy': 15.0,
            'StakeWise': 15.0,
            'Convex': 15.0,
            'Conic Finance': 10.0,
            'GMX V2': 10.0,
            'Gnosis': 10.0,
            'Polygon Staking': 10.0,
            'gTrade': 10.0,
            'Silo': 10.0,
            'Concentrator': 10.0,
            'f(x) Protocol': 10.0,
            'Balancer V2': 10.0,
            'LIDO': 10.0,
            'Aura Finance': 10.0,
            'CoW Swap': 10.0,
            'Velodrome V2': 10.0,
            'The Graph': 10.0,
            'Livepeer': 10.0,
            'Covalent': 5.0,
            'ChainLink': 5.0,
            'Boba Network Gateway': 5.0,
            'Audius': 5.0,
            'Syntropy': 5.0},
        'LP': {'Aave V3': 68.75,
            'Stake DAO': 31.25,
            'Aura Finance': 25.0,
            'CoW Swap': 18.75,
            'CLever CVX': 12.5,
            'Gnosis': 12.5,
            'Balancer V2': 12.5,
            'LIDO': 12.5,
            'Spark': 12.5,
            'Acryptos': 12.5,
            'Pendle V2': 12.5,
            'Convex': 12.5,
            'Silo': 12.5,
            'Bent Finance': 6.25,
            'Cream': 6.25,
            'Asymmetry Finance': 6.25,
            'Convergence': 6.25,
            'WigoSwap': 6.25,
            'Fraxlend': 6.25,
            'Gearbox': 6.25,
            'Iron Bank': 6.25,
            'Pickle': 6.25,
            'Gnosis Beacon Chain': 6.25,
            'Yearn V2': 6.25,
            'Hop Protocol': 6.25},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'polygon': {'All': {'Aave V3': 20.03798670465337,
            'Beefy': 10.161443494776828,
            'Convex': 8.262108262108262,
            'Mitosis': 5.223171889838556,
            'Uniswap V3': 4.938271604938271,
            'Pendle V2': 4.843304843304843,
            'ZeroLend': 4.5584045584045585,
            'ether.fi': 4.368471035137702,
            'Silo': 4.083570750237417,
            'Stake DAO': 3.9886039886039883,
            'Balancer V2': 3.9886039886039883,
            'Mendi Finance': 3.7037037037037033,
            'Stargate': 3.513770180436847,
            'Velodrome V2': 3.418803418803419,
            'Compound V3': 3.418803418803419,
            'Layer3': 3.2288698955365627,
            'Aerodrome': 3.2288698955365627,
            'Ambient': 2.9439696106362776,
            'EigenLayer': 2.9439696106362776,
            'Elixir': 2.7540360873694207,
            'Extra Finance': 2.7540360873694207,
            'Aura Finance': 2.6590693257359925,
            'PancakeSwap V3': 2.6590693257359925,
            'Contango': 2.6590693257359925,
            'Ethena': 2.564102564102564},
        'Trading': {'Aave V3': 14.465408805031446,
            'Stake DAO': 5.031446540880504,
            'Balancer V2': 4.40251572327044,
            'Beefy': 4.40251572327044,
            'ParaSwap': 3.7735849056603774,
            'Convex': 3.7735849056603774,
            'Uniswap V3': 3.7735849056603774,
            'Compound V3': 3.1446540880503147,
            'Extra Finance': 3.1446540880503147,
            'Silo': 3.1446540880503147,
            'Velodrome V2': 2.515723270440252,
            'Merkl': 2.515723270440252,
            'Morpho Blue': 2.515723270440252,
            'Stader': 2.515723270440252,
            'Aerodrome': 1.8867924528301887,
            'ZeroLend': 1.8867924528301887,
            'azuro': 1.8867924528301887,
            'Aura Finance': 1.8867924528301887,
            'PancakeSwap V3': 1.8867924528301887,
            'Blackwing': 1.8867924528301887,
            'PancakeSwap': 1.8867924528301887,
            'Trader Joe': 1.8867924528301887,
            'Radiant Capital V2': 1.8867924528301887,
            'Dolomite': 1.8867924528301887,
            'Contango': 1.8867924528301887},
        'UI Router': {'Aave V3': 13.853503184713375,
            'Beefy': 6.528662420382165,
            'Mitosis': 6.050955414012739,
            'Convex': 5.573248407643312,
            'ether.fi': 4.45859872611465,
            'Pendle V2': 4.2993630573248405,
            'Mendi Finance': 4.140127388535031,
            'ZeroLend': 4.140127388535031,
            'Layer3': 3.9808917197452227,
            'Ambient': 3.5031847133757963,
            'SyncSwap': 3.1847133757961785,
            'EigenLayer': 3.1847133757961785,
            'Elixir': 3.0254777070063694,
            'Ethena': 3.0254777070063694,
            'LayerBank': 2.8662420382165608,
            'Uniswap V3': 2.8662420382165608,
            'Stargate': 2.7070063694267517,
            'Stake DAO': 2.7070063694267517,
            'Silo': 2.7070063694267517,
            'Balancer V2': 2.547770700636943,
            'Aerodrome': 2.547770700636943,
            'Velodrome V2': 2.388535031847134,
            'Compound V3': 2.0700636942675157,
            'GMX': 2.0700636942675157,
            'Lynex': 2.0700636942675157},
        'LP': {'Aave V3': 37.96992481203007,
            'Beefy': 22.18045112781955,
            'Convex': 17.293233082706767,
            'Uniswap V3': 10.526315789473683,
            'Pendle V2': 8.270676691729323,
            'Silo': 7.894736842105263,
            'Balancer V2': 7.142857142857142,
            'Stargate': 7.142857142857142,
            'ZeroLend': 7.142857142857142,
            'Compound V3': 6.7669172932330826,
            'Velodrome V2': 6.390977443609022,
            'Stake DAO': 6.390977443609022,
            'Aura Finance': 6.390977443609022,
            'Magpie XYZ': 6.390977443609022,
            'ether.fi': 6.015037593984962,
            'Mitosis': 6.015037593984962,
            'Extra Finance': 5.639097744360902,
            'Aerodrome': 5.639097744360902,
            'Radiant Capital V2': 5.263157894736842,
            'Fraxlend': 5.263157894736842,
            'Contango': 5.263157894736842,
            'PancakeSwap V3': 4.887218045112782,
            'Mendi Finance': 4.887218045112782,
            'Gamma': 4.887218045112782,
            'ParaSwap': 4.511278195488721},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'optimism': {'All': {'Aave V3': 42.89855072463768,
            'Convex': 21.15942028985507,
            'Beefy': 18.55072463768116,
            'Pendle V2': 14.637681159420291,
            'Synthetix': 13.623188405797102,
            'Aerodrome': 13.478260869565217,
            'Velodrome V2': 12.318840579710146,
            'Uniswap V3': 12.318840579710146,
            'Aura Finance': 11.44927536231884,
            'ether.fi': 9.710144927536232,
            'Silo': 8.985507246376812,
            'Extra Finance': 8.550724637681158,
            'Contango': 8.550724637681158,
            'Stargate': 8.550724637681158,
            'ZeroLend': 8.26086956521739,
            'Balancer V2': 7.971014492753622,
            'Stake DAO': 7.536231884057972,
            'Ambient': 7.391304347826087,
            'Mitosis': 7.246376811594203,
            'Magpie XYZ': 7.246376811594203,
            'GMX': 6.956521739130435,
            'EigenLayer': 6.956521739130435,
            'Compound V3': 6.666666666666667,
            'Elixir': 6.231884057971015,
            'SyncSwap': 6.086956521739131},
        'Trading': {'Aave V3': 34.810126582278485,
            'Convex': 15.822784810126583,
            'Aura Finance': 12.025316455696203,
            'Stargate': 10.759493670886076,
            'Contango': 9.49367088607595,
            'Aerodrome': 9.49367088607595,
            'Synthetix': 9.49367088607595,
            'Pendle V2': 9.49367088607595,
            'Beefy': 7.59493670886076,
            'ZeroLend': 6.962025316455696,
            'Velodrome V2': 6.962025316455696,
            'ether.fi': 6.329113924050633,
            'Balancer V2': 5.69620253164557,
            'Synthetix V3': 5.69620253164557,
            'Silo': 5.69620253164557,
            'Compound V3': 5.69620253164557,
            'Fraxlend': 5.063291139240507,
            'Ambient': 5.063291139240507,
            'Kwenta': 5.063291139240507,
            'Uniswap V3': 5.063291139240507,
            'Extra Finance': 5.063291139240507,
            'Magpie XYZ': 5.063291139240507,
            'EigenLayer': 5.063291139240507,
            'Elixir': 4.430379746835443,
            'ParaSwap': 4.430379746835443},
        'UI Router': {'Aave V3': 36.18421052631579,
            'Convex': 18.421052631578945,
            'Beefy': 16.776315789473685,
            'Uniswap V3': 13.157894736842104,
            'Synthetix': 13.157894736842104,
            'Aerodrome': 11.18421052631579,
            'Velodrome V2': 10.855263157894738,
            'Pendle V2': 10.526315789473683,
            'SyncSwap': 8.552631578947368,
            'ether.fi': 7.894736842105263,
            'Aura Finance': 7.894736842105263,
            'ZeroLend': 7.894736842105263,
            'Extra Finance': 7.236842105263158,
            'Silo': 7.236842105263158,
            'Stargate': 7.236842105263158,
            'Ambient': 6.907894736842106,
            'Stake DAO': 6.907894736842106,
            'Balancer V2': 6.907894736842106,
            'EigenLayer': 6.578947368421052,
            'Mitosis': 5.592105263157895,
            'GMX': 5.592105263157895,
            'Contango': 5.263157894736842,
            'Elixir': 5.263157894736842,
            'GMX V2': 4.934210526315789,
            'Yearn V2': 4.934210526315789},
        'LP': {'Aave V3': 57.45614035087719,
            'Beefy': 28.50877192982456,
            'Convex': 28.50877192982456,
            'Pendle V2': 23.684210526315788,
            'Aerodrome': 19.298245614035086,
            'Velodrome V2': 17.982456140350877,
            'Synthetix': 17.105263157894736,
            'Uniswap V3': 16.228070175438596,
            'Aura Finance': 15.789473684210526,
            'ether.fi': 14.473684210526317,
            'Silo': 13.596491228070176,
            'Extra Finance': 12.719298245614036,
            'Magpie XYZ': 12.280701754385964,
            'Mitosis': 12.280701754385964,
            'Contango': 12.280701754385964,
            'Stake DAO': 11.403508771929824,
            'GMX': 11.403508771929824,
            'Balancer V2': 10.964912280701753,
            'ZeroLend': 9.649122807017543,
            'Ambient': 9.649122807017543,
            'Compound V3': 9.649122807017543,
            'Camelot': 9.210526315789473,
            'Elixir': 8.771929824561402,
            'Stargate': 8.771929824561402,
            'GMX V2': 8.771929824561402},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'fraxtal': {'All': {'Convex': 84.14634146341463,
            'Aave V3': 76.21951219512195,
            'Beefy': 50.609756097560975,
            'Frax': 39.02439024390244,
            'Fraxlend': 37.19512195121951,
            'Aura Finance': 26.21951219512195,
            'Velodrome V2': 23.78048780487805,
            'Stargate': 23.170731707317074,
            'Contango': 21.341463414634145,
            'Aerodrome': 20.73170731707317,
            'ether.fi': 18.902439024390244,
            'Pendle V2': 18.902439024390244,
            'Extra Finance': 18.29268292682927,
            'Silo': 18.29268292682927,
            'Mitosis': 18.29268292682927,
            'Uniswap V3': 15.853658536585366,
            'Gravita Protocol': 15.853658536585366,
            'Compound V3': 15.24390243902439,
            'Timeswap': 14.634146341463413,
            'Camelot': 14.02439024390244,
            'Balancer V2': 14.02439024390244,
            'Magpie XYZ': 13.414634146341465,
            'RAMSES': 13.414634146341465,
            'GMX': 13.414634146341465,
            'Stake DAO': 12.804878048780488},
        'Trading': {'Convex': 84.21052631578947,
            'Frax': 68.42105263157895,
            'Aave V3': 63.1578947368421,
            'Beefy': 63.1578947368421,
            'Fraxlend': 63.1578947368421,
            'Aura Finance': 42.10526315789473,
            'Timeswap': 36.84210526315789,
            'Extra Finance': 31.57894736842105,
            'Velodrome V2': 26.31578947368421,
            'ParaSwap': 26.31578947368421,
            'VaultCraft': 26.31578947368421,
            'Solidly': 26.31578947368421,
            'Lynex': 21.052631578947366,
            'Compound V3': 21.052631578947366,
            'Balancer V2': 21.052631578947366,
            'Synthetix V3': 21.052631578947366,
            'Superform': 21.052631578947366,
            'RAMSES': 21.052631578947366,
            'dHEDGE': 15.789473684210526,
            'Dolomite': 15.789473684210526,
            'RA': 15.789473684210526,
            'Synthetix': 15.789473684210526,
            'Thena': 15.789473684210526,
            'Contango': 15.789473684210526,
            'Tokan Exchange': 15.789473684210526},
        'UI Router': {'Convex': 81.0126582278481,
            'Aave V3': 72.15189873417721,
            'Beefy': 39.24050632911392,
            'Frax': 31.645569620253166,
            'Fraxlend': 30.37974683544304,
            'Aura Finance': 24.050632911392405,
            'Contango': 24.050632911392405,
            'Aerodrome': 20.253164556962027,
            'Velodrome V2': 18.9873417721519,
            'Stargate': 18.9873417721519,
            'Pendle V2': 17.72151898734177,
            'ether.fi': 16.455696202531644,
            'Silo': 16.455696202531644,
            'Uniswap V3': 15.18987341772152,
            'Gravita Protocol': 15.18987341772152,
            'Magpie XYZ': 13.924050632911392,
            'Mitosis': 13.924050632911392,
            'Extra Finance': 13.924050632911392,
            'GMX': 13.924050632911392,
            'Compound V3': 12.658227848101266,
            'Camelot': 12.658227848101266,
            'Stake DAO': 11.39240506329114,
            'Yearn V2': 11.39240506329114,
            'Balancer V2': 11.39240506329114,
            'Synthetix V3': 11.39240506329114},
        'LP': {'Convex': 87.87878787878788,
            'Aave V3': 84.84848484848484,
            'Beefy': 60.60606060606061,
            'Frax': 39.39393939393939,
            'Fraxlend': 37.878787878787875,
            'Stargate': 31.818181818181817,
            'Velodrome V2': 28.78787878787879,
            'Mitosis': 28.78787878787879,
            'Aura Finance': 24.242424242424242,
            'Aerodrome': 22.727272727272727,
            'ether.fi': 22.727272727272727,
            'Pendle V2': 21.21212121212121,
            'Gravita Protocol': 21.21212121212121,
            'Silo': 21.21212121212121,
            'Contango': 19.696969696969695,
            'Extra Finance': 19.696969696969695,
            'Uniswap V3': 18.181818181818183,
            'Magpie XYZ': 16.666666666666664,
            'Compound V3': 16.666666666666664,
            'Balancer V2': 15.151515151515152,
            'Stake DAO': 15.151515151515152,
            'Camelot': 15.151515151515152,
            'GMX': 15.151515151515152,
            'Timeswap': 15.151515151515152,
            'RAMSES': 13.636363636363635},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'fantom': {'All': {'Aave V3': 11.11111111111111,
            'Beefy': 8.641975308641975,
            'Stake DAO': 6.172839506172839,
            'Balancer V2': 4.938271604938271,
            'Solidly': 4.938271604938271,
            'USDV': 4.938271604938271,
            'EYWA': 3.7037037037037033,
            'Alchemix V2': 3.7037037037037033,
            'Convex': 3.7037037037037033,
            'Extra Finance': 3.7037037037037033,
            'Morpho Blue': 3.7037037037037033,
            'Strike Finance': 2.4691358024691357,
            'LIDO': 2.4691358024691357,
            'Llama Airforce Union': 2.4691358024691357,
            'Liquid Driver': 2.4691358024691357,
            'BlasterSwap': 2.4691358024691357,
            'Blackwing': 2.4691358024691357,
            'Pendle V2': 2.4691358024691357,
            'ether.fi': 2.4691358024691357,
            'f(x) Protocol': 2.4691358024691357,
            'PancakeSwap V3': 2.4691358024691357,
            'Radiant Capital V2': 2.4691358024691357,
            'Aura Finance': 2.4691358024691357,
            'Karak': 2.4691358024691357,
            'Gravita Protocol': 2.4691358024691357},
        'Trading': {'USDV': 5.128205128205128,
            'SyncSwap': 5.128205128205128,
            'Balancer V2': 2.564102564102564,
            'Radiant Capital V2': 2.564102564102564,
            'BlasterSwap': 2.564102564102564,
            'Aave V2': 2.564102564102564,
            'Aave V3': 2.564102564102564,
            'Merchant Moe': 2.564102564102564,
            'lendle.xyz': 2.564102564102564,
            'The Granary': 2.564102564102564,
            'Ambient': 2.564102564102564,
            'Puffer Finance': 2.564102564102564,
            'Pepecoin': 2.564102564102564,
            'Stargate': 2.564102564102564,
            'LayerBank': 2.564102564102564,
            'EchoDEX': 2.564102564102564,
            'Steer Protocol': 2.564102564102564,
            'ether.fi': 2.564102564102564,
            'Extra Finance': 2.564102564102564,
            'Avalaunch': 2.564102564102564,
            'Mars Ecosystem': 2.564102564102564,
            'Strike Finance': 2.564102564102564,
            'PancakeSwap V3': 2.564102564102564,
            'Morpho Blue': 2.564102564102564,
            'Beefy': 2.564102564102564},
        'UI Router': {'Blackwing': 5.0,
            'Karak': 5.0,
            'ZeroLend': 5.0,
            'Ambient': 5.0,
            'Aave V3': 5.0,
            'Equalizer': 5.0,
            'WigoSwap': 5.0},
        'LP': {'Aave V3': 31.818181818181817,
            'Beefy': 27.27272727272727,
            'Stake DAO': 22.727272727272727,
            'Solidly': 18.181818181818183,
            'Balancer V2': 13.636363636363635,
            'Alchemix V2': 13.636363636363635,
            'EYWA': 13.636363636363635,
            'Convex': 13.636363636363635,
            'Uniswap V3': 9.090909090909092,
            'LIDO': 9.090909090909092,
            'Morpho Blue': 9.090909090909092,
            'USDV': 9.090909090909092,
            'Thena': 9.090909090909092,
            'Velodrome V2': 9.090909090909092,
            'Aura Finance': 9.090909090909092,
            'Llama Airforce Union': 9.090909090909092,
            'f(x) Protocol': 9.090909090909092,
            'Gravita Protocol': 9.090909090909092,
            'Extra Finance': 9.090909090909092,
            'CLever CVX': 9.090909090909092,
            'Pendle V2': 9.090909090909092,
            'mellow': 4.545454545454546,
            'Fraxlend': 4.545454545454546,
            'Gearbox': 4.545454545454546,
            'Cleopatra': 4.545454545454546},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}}}

    let overlapBarChart;

function createOverlapProductSelector(elementId, onChangeCallback) {
    const selectElement = document.getElementById(elementId);
    if (!selectElement) {
        console.error(`Element with id "${elementId}" not found`);
        return null;
    }

    selectElement.innerHTML = '';

    overlapProductList.forEach(product => {
        const option = document.createElement('option');
        option.value = product;
        option.textContent = product;
        selectElement.appendChild(option);
    });

    selectElement.addEventListener('change', (event) => {
        onChangeCallback(event.target.value);
    });

    return selectElement.value;
}

function createOverlapBarChart(data, product) {
    const ctx = document.getElementById('overlapBarChart').getContext('2d');

    if (overlapBarChart) {
        overlapBarChart.destroy();
    }

    if (!data || !data[product]) {
        displayOverlapErrorMessage(`No data available for ${product} on this chain.`);
        return;
    }

    const sortedData = Object.entries(data[product]).sort((a, b) => b[1] - a[1]).slice(0, 25);
    const labels = sortedData.map(item => item[0]);
    const values = sortedData.map(item => item[1]);

    overlapBarChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: `${product} User Overlap`,
                data: values,
                backgroundColor: 'rgba(75, 192, 192, 0.6)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            //maintainAspectRatio: false,
            aspectRatio: 1.05,
            scales: {
                x: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Percentage of Curve Users also using the protocol'
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: 'Protocols'
                    }
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: `${product} User Overlap with Other Protocols`
                },
                legend: {
                    display: false
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return `${context.parsed.x.toFixed(2)}%`;
                        }
                    }
                }
            }
        }
    });
}

function displayOverlapErrorMessage(message) {
    const ctx = document.getElementById('overlapBarChart').getContext('2d');
    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
    ctx.font = '20px Arial';
    ctx.fillStyle = 'red';
    ctx.textAlign = 'center';
    ctx.fillText(message, ctx.canvas.width / 2, ctx.canvas.height / 2);
}

function updateOverlapBarChart(selectedChain, selectedProduct) {
    if (overlapData[selectedChain] && overlapData[selectedChain][selectedProduct]) {
        createOverlapBarChart(overlapData[selectedChain], selectedProduct);
    } else {
        displayOverlapErrorMessage(`Data not available for chain: ${selectedChain}, product: ${selectedProduct}`);
    }
}

function updateOverlapProductSelector(selectedChain) {
    const productSelect = document.getElementById('productSelectOverlap');
    productSelect.innerHTML = '';

    overlapProductList.forEach(product => {
        if (overlapData[selectedChain] && overlapData[selectedChain][product]) {
            const option = document.createElement('option');
            option.value = product;
            option.textContent = product;
            productSelect.appendChild(option);
        }
    });

    productSelect.value = 'All';
}

document.addEventListener('DOMContentLoaded', () => {
    const chainSelect = document.getElementById('chainSelectOverlap');
    const productSelect = document.getElementById('productSelectOverlap');

    const initialChain = createChainSelector('chainSelectOverlap', (chain) => {
        updateOverlapProductSelector(chain);
        updateOverlapBarChart(chain, productSelect.value);
    });

    createOverlapProductSelector('productSelectOverlap', (product) => {
        updateOverlapBarChart(chainSelect.value, product);
    });

    chainSelect.value = initialChain || 'all';
    updateOverlapProductSelector(chainSelect.value);
    productSelect.value = 'All';

    updateOverlapBarChart(chainSelect.value, productSelect.value);
});