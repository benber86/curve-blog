const overlapProductList = ["All", "Trading", "UI Router", "LP", "Lending", "crvUSD", "DAO"];
const overlapData = {'all': {'All': {'Aave V3': 24.944506104328525,
            'Ethena': 22.225305216426193,
            'Convex': 19.15464298927118,
            'Pendle V2': 17.110617832038475,
            'ether.fi': 14.215686274509803,
            'EigenLayer': 12.088420273769886,
            'Aerodrome': 10.895301516833149,
            'Elixir': 10.76581576026637,
            'Zircuit': 10.543840177580465,
            'Karak': 9.896411394746577,
            'ZeroLend': 9.35072142064373,
            'Stargate': 9.137994820569737,
            'Swell': 8.832778394376618,
            'Velodrome V2': 8.370329263780985,
            'Uniswap V3': 8.361080281169071,
            'Beefy': 8.296337402885683,
            'Symbiotic': 8.22234554199038,
            'Ambient': 8.213096559378469,
            'Mitosis': 7.195708472068072,
            'Stake DAO': 6.807251202367739,
            'GMX': 6.770255271920089,
            'Pencils Protocol': 6.557528671846097,
            'Synthetix': 6.46503884572697,
            'SyncSwap': 6.280059193488715,
            'Frax': 6.243063263041066},
        'Trading': {'Ethena': 25.26772055073942,
            'Pendle V2': 13.105558388577258,
            'Aave V3': 12.978072412034678,
            'ether.fi': 10.42835288118307,
            'Zircuit': 9.306476287608364,
            'EigenLayer': 9.178990311065782,
            'Convex': 9.051504334523203,
            'Elixir': 8.388577256501785,
            'Karak': 7.90413054563998,
            'ZeroLend': 7.06272310045895,
            'Swell': 7.037225905150433,
            'Stargate': 6.782253952065273,
            'Symbiotic': 6.22131565527792,
            'Ambient': 6.195818459969404,
            'Aerodrome': 6.195818459969404,
            'Mitosis': 5.76236613972463,
            'Pencils Protocol': 5.124936257011728,
            'Uniswap V3': 4.462009178990311,
            'SyncSwap': 4.385517593064763,
            'Fuel': 4.054054054054054,
            'Velodrome V2': 4.028556858745538,
            'Reya': 3.977562468128506,
            'Beefy': 3.850076491585926,
            'LayerBank': 3.7735849056603774,
            'GMX': 3.6970933197348295},
        'UI Router': {'Aave V3': 14.738771769019248,
            'Convex': 11.475710357470211,
            'Pendle V2': 8.689275893675527,
            'Ethena': 7.222731439046746,
            'ether.fi': 7.131072410632447,
            'Aerodrome': 6.122823098075161,
            'EigenLayer': 5.8845096241979835,
            'Elixir': 5.261228230980752,
            'ZeroLend': 5.261228230980752,
            'Stargate': 5.077910174152154,
            'Velodrome V2': 4.802933088909257,
            'Karak': 4.784601283226398,
            'Uniswap V3': 4.784601283226398,
            'Beefy': 4.7479376718606785,
            'Ambient': 4.436296975252063,
            'Zircuit': 4.271310724106325,
            'Swell': 4.197983501374885,
            'Stake DAO': 4.161319890009166,
            'GMX': 3.8680109990834097,
            'Symbiotic': 3.8680109990834097,
            'Synthetix': 3.6480293308890923,
            'LIDO': 3.6480293308890923,
            'SyncSwap': 3.593033913840513,
            'Mendi Finance': 3.519706691109074,
            'Frax': 3.4647112740604946},
        'LP': {'Ethena': 19.16512440880115,
            'Aave V3': 18.548221262595106,
            'Convex': 14.250462677359653,
            'Pendle V2': 13.16060045239564,
            'ether.fi': 11.700596339708,
            'EigenLayer': 10.261155665227225,
            'Zircuit': 9.993830968537939,
            'Elixir': 9.788196586469258,
            'Aerodrome': 8.986222496401398,
            'Karak': 8.801151552539585,
            'Symbiotic': 7.690725889368702,
            'ZeroLend': 7.5879086983343615,
            'Stargate': 7.505654945506889,
            'Beefy': 7.464528069093153,
            'Swell': 7.464528069093153,
            'Ambient': 7.300020563438207,
            'Mitosis': 6.929878675714579,
            'Velodrome V2': 6.7242442936458975,
            'Uniswap V3': 6.518609911577215,
            'Pencils Protocol': 6.230721776681062,
            'SyncSwap': 5.531564877647543,
            'GMX': 5.408184248406334,
            'Mendi Finance': 5.120296113510179,
            'Reya': 5.0174789224758385,
            'Frax': 4.976352046062102},
        'Lending': {'Aave V3': 24.662576687116562,
            'Convex': 17.914110429447852,
            'Pendle V2': 13.25153374233129,
            'ether.fi': 11.16564417177914,
            'Uniswap V3': 9.69325153374233,
            'Beefy': 7.6073619631901845,
            'Aerodrome': 6.748466257668712,
            'EigenLayer': 6.625766871165645,
            'Velodrome V2': 6.5030674846625764,
            'ZeroLend': 6.134969325153374,
            'Stake DAO': 5.766871165644172,
            'Synthetix': 5.644171779141105,
            'GMX': 5.398773006134969,
            'Swell': 5.398773006134969,
            'Camelot': 5.276073619631902,
            'Magpie XYZ': 5.153374233128835,
            'Compound V3': 5.153374233128835,
            'Elixir': 5.030674846625767,
            'Karak': 5.030674846625767,
            'Radiant Capital V2': 4.41717791411043,
            'LIDO': 4.41717791411043,
            'Ethena': 4.41717791411043,
            'Silo': 4.41717791411043,
            'Llama Airforce Union': 4.294478527607362,
            'Morpho Blue': 4.171779141104294},
        'crvUSD': {'Aave V3': 12.955974842767295,
            'Convex': 7.9245283018867925,
            'Aave V2': 6.226415094339623,
            'Pendle V2': 4.339622641509433,
            'LIDO': 3.710691823899371,
            'Aerodrome': 3.207547169811321,
            'ether.fi': 3.1446540880503147,
            'EigenLayer': 2.767295597484277,
            'Frax': 2.6415094339622645,
            'Stake DAO': 2.578616352201258,
            'Uniswap V3': 2.515723270440252,
            'GMX': 2.4528301886792456,
            'Fraxlend': 2.3899371069182394,
            'Beefy': 2.3899371069182394,
            'Velodrome V2': 2.3899371069182394,
            'Synthetix': 2.2641509433962264,
            'Compound V3': 2.0125786163522013,
            'Camelot': 1.949685534591195,
            'Ethena': 1.949685534591195,
            'Llama Airforce Union': 1.949685534591195,
            'Yearn V2': 1.8867924528301887,
            'Morpho Blue': 1.8238993710691824,
            'Frankencoin': 1.7610062893081762,
            'Votium': 1.7610062893081762,
            'Magpie XYZ': 1.6981132075471699},
        'DAO': {'Convex': 30.048076923076923,
            'Aave V3': 18.028846153846153,
            'Velodrome V2': 16.105769230769234,
            'Synthetix': 14.663461538461538,
            'Aerodrome': 13.942307692307693,
            'Frax': 12.980769230769232,
            'Stake DAO': 12.740384615384615,
            'Pendle V2': 10.817307692307693,
            'Concentrator': 10.336538461538462,
            'Aave V2': 10.096153846153847,
            'Yearn V2': 9.134615384615383,
            'Llama Airforce Union': 8.653846153846153,
            'LIDO': 8.653846153846153,
            'Aura Finance': 8.413461538461538,
            'Votium': 7.9326923076923075,
            'Uniswap V3': 7.6923076923076925,
            'GMX': 7.211538461538461,
            'EigenLayer': 6.971153846153847,
            'ether.fi': 6.971153846153847,
            'Stargate': 6.730769230769231,
            'Fixedforex': 6.490384615384616,
            'Balancer V2': 6.25,
            'CoW Swap': 6.25,
            'RAMSES': 6.009615384615385,
            'ParaSwap': 6.009615384615385}},
    'arbitrum': {'All': {'Aave V3': 20.325497287522605,
            'Convex': 15.117540687160941,
            'Pendle V2': 10.524412296564195,
            'Beefy': 10.162748643761303,
            'Aerodrome': 9.113924050632912,
            'ether.fi': 8.318264014466546,
            'Uniswap V3': 7.6672694394213385,
            'Velodrome V2': 6.9801084990958415,
            'GMX': 6.907775768535263,
            'Camelot': 6.799276672694394,
            'Magpie XYZ': 6.256781193490054,
            'ZeroLend': 6.075949367088607,
            'Stake DAO': 6.075949367088607,
            'EigenLayer': 5.099457504520796,
            'Karak': 5.063291139240507,
            'Silo': 4.954792043399638,
            'Stargate': 4.882459312839059,
            'Frax': 4.84629294755877,
            'Ethena': 4.737793851717902,
            'Yearn V2': 4.737793851717902,
            'Elixir': 4.520795660036167,
            'Swell': 4.448462929475587,
            'Synthetix': 4.376130198915009,
            'GMX V2': 4.30379746835443,
            'Radiant Capital V2': 4.267631103074141},
        'Trading': {'Aave V3': 10.780669144981413,
            'Convex': 9.851301115241636,
            'Pendle V2': 6.877323420074349,
            'Aerodrome': 6.319702602230483,
            'Beefy': 6.319702602230483,
            'ether.fi': 5.5762081784386615,
            'GMX': 5.5762081784386615,
            'Stake DAO': 5.5762081784386615,
            'Magpie XYZ': 4.83271375464684,
            'Velodrome V2': 4.83271375464684,
            'Ethena': 4.4609665427509295,
            'Camelot': 4.275092936802974,
            'Uniswap V3': 4.275092936802974,
            'Yearn V2': 4.089219330855019,
            'Radiant Capital V2': 3.903345724907063,
            'Balancer V2': 3.717472118959108,
            'ZeroLend': 3.717472118959108,
            'Stargate': 3.5315985130111525,
            'Karak': 3.5315985130111525,
            'Frax': 3.5315985130111525,
            'Silo': 3.1598513011152414,
            'Fraxlend': 3.1598513011152414,
            'Aura Finance': 3.1598513011152414,
            'Llama Airforce Union': 2.973977695167286,
            'Elixir': 2.973977695167286},
        'UI Router': {'Aave V3': 17.864077669902912,
            'Convex': 13.106796116504855,
            'Pendle V2': 10.970873786407767,
            'ether.fi': 8.54368932038835,
            'Aerodrome': 7.961165048543689,
            'Beefy': 7.766990291262135,
            'ZeroLend': 6.990291262135923,
            'Uniswap V3': 6.5048543689320395,
            'EigenLayer': 5.922330097087379,
            'GMX': 5.728155339805825,
            'Velodrome V2': 5.631067961165048,
            'Stargate': 5.533980582524272,
            'Karak': 5.436893203883495,
            'Stake DAO': 5.436893203883495,
            'Camelot': 5.339805825242718,
            'Magpie XYZ': 4.951456310679612,
            'Elixir': 4.951456310679612,
            'Ethena': 4.854368932038835,
            'Swell': 4.757281553398058,
            'Ambient': 4.563106796116505,
            'SyncSwap': 4.368932038834951,
            'Zircuit': 4.174757281553398,
            'Mendi Finance': 3.8834951456310676,
            'Frax': 3.8834951456310676,
            'GMX V2': 3.7864077669902914},
        'LP': {'Aave V3': 27.10674157303371,
            'Convex': 21.769662921348313,
            'Beefy': 17.415730337078653,
            'Aerodrome': 14.325842696629213,
            'Pendle V2': 13.764044943820226,
            'Uniswap V3': 11.095505617977528,
            'Camelot': 10.53370786516854,
            'Velodrome V2': 10.53370786516854,
            'ether.fi': 10.252808988764045,
            'GMX': 10.112359550561797,
            'Magpie XYZ': 9.269662921348315,
            'Frax': 8.567415730337078,
            'Stake DAO': 8.426966292134832,
            'Silo': 8.146067415730338,
            'Extra Finance': 7.443820224719102,
            'ZeroLend': 7.162921348314606,
            'Yearn V2': 7.162921348314606,
            'Balancer V2': 6.601123595505618,
            'GMX V2': 6.460674157303371,
            'EigenLayer': 6.460674157303371,
            'Ethena': 6.320224719101124,
            'Stargate': 6.03932584269663,
            'Aura Finance': 6.03932584269663,
            'Radiant Capital V2': 5.8988764044943816,
            'Karak': 5.8988764044943816},
        'Lending': {'Aave V3': 26.18556701030928,
            'Convex': 15.463917525773196,
            'Beefy': 8.8659793814433,
            'Uniswap V3': 8.8659793814433,
            'Pendle V2': 8.8659793814433,
            'ether.fi': 8.041237113402062,
            'Camelot': 7.216494845360824,
            'Aerodrome': 7.010309278350515,
            'Velodrome V2': 7.010309278350515,
            'Compound V3': 6.5979381443298974,
            'GMX': 6.185567010309279,
            'Magpie XYZ': 6.185567010309279,
            'Synthetix': 5.77319587628866,
            'Silo': 5.154639175257731,
            'ZeroLend': 5.154639175257731,
            'EigenLayer': 4.948453608247423,
            'Karak': 4.742268041237113,
            'Radiant Capital V2': 4.742268041237113,
            'Stake DAO': 4.536082474226804,
            'Llama Airforce Union': 4.329896907216495,
            'Elixir': 4.123711340206185,
            'Swell': 4.123711340206185,
            'GMX V2': 4.123711340206185,
            'Yearn V2': 3.917525773195876,
            'f(x) Protocol': 3.5051546391752577},
        'crvUSD': {},
        'DAO': {}},
    'ethereum': {'All': {'Ethena': 19.909173478655767,
            'Aave V3': 14.777475022706628,
            'Pendle V2': 12.706630336058128,
            'Convex': 12.125340599455042,
            'ether.fi': 10.30881017257039,
            'EigenLayer': 9.564032697547683,
            'Zircuit': 8.555858310626704,
            'Elixir': 8.392370572207085,
            'Karak': 7.702089009990917,
            'Swell': 6.784741144414169,
            'Symbiotic': 6.603088101725704,
            'Stargate': 6.475930971843778,
            'Aerodrome': 6.33969118982743,
            'ZeroLend': 6.094459582198001,
            'Ambient': 5.858310626702997,
            'Mitosis': 5.313351498637602,
            'Uniswap V3': 4.904632152588556,
            'Velodrome V2': 4.8501362397820165,
            'LIDO': 4.713896457765668,
            'Pencils Protocol': 4.704813805631244,
            'SyncSwap': 4.332425068119891,
            'Aave V2': 4.287011807447775,
            'Stake DAO': 4.178019981834695,
            'Reya': 4.141689373297003,
            'Fuel': 4.096276112624887},
        'Trading': {'Ethena': 32.977624784853695,
            'Pendle V2': 15.800344234079175,
            'Aave V3': 13.287435456110156,
            'ether.fi': 12.289156626506024,
            'EigenLayer': 11.635111876075733,
            'Zircuit': 11.566265060240964,
            'Elixir': 10.292598967297764,
            'Karak': 9.707401032702236,
            'Convex': 9.018932874354562,
            'Swell': 8.640275387263339,
            'ZeroLend': 8.261617900172118,
            'Stargate': 7.814113597246128,
            'Symbiotic': 7.779690189328743,
            'Ambient': 7.5043029259896725,
            'Mitosis': 7.194492254733219,
            'Aerodrome': 6.12736660929432,
            'Pencils Protocol': 6.058519793459553,
            'SyncSwap': 5.473321858864027,
            'Fuel': 5.197934595524957,
            'Reya': 5.163511187607573,
            'Uniswap V3': 4.647160068846816,
            'LayerBank': 4.578313253012048,
            'Mendi Finance': 4.23407917383821,
            'Blackwing': 3.993115318416524,
            'Velodrome V2': 3.7521514629948363},
        'UI Router': {'Aave V3': 16.30971993410214,
            'Convex': 14.744645799011533,
            'Ethena': 12.561779242174628,
            'Pendle V2': 12.149917627677102,
            'ether.fi': 9.349258649093905,
            'EigenLayer': 8.278418451400329,
            'Elixir': 7.413509060955518,
            'Karak': 6.878088962108732,
            'Aerodrome': 6.548599670510709,
            'Zircuit': 6.383855024711697,
            'Stargate': 6.3014827018121915,
            'LIDO': 5.930807248764415,
            'Swell': 5.889621087314662,
            'Symbiotic': 5.642504118616145,
            'Velodrome V2': 5.395387149917628,
            'Stake DAO': 5.395387149917628,
            'Uniswap V3': 5.189456342668864,
            'Ambient': 4.942339373970346,
            'ZeroLend': 4.901153212520593,
            'GMX': 4.4892915980230645,
            'Frax': 4.4892915980230645,
            'Aave V2': 4.365733113673806,
            'Synthetix': 4.159802306425041,
            'Beefy': 3.8714991762767705,
            'Llama Airforce Union': 3.789126853377265},
        'LP': {'Ethena': 25.591140377132593,
            'Aave V3': 14.666267584555523,
            'Pendle V2': 13.94791978449566,
            'ether.fi': 12.57108650104759,
            'EigenLayer': 12.301706076025141,
            'Zircuit': 12.271774917689314,
            'Elixir': 11.762945225980245,
            'Convex': 11.762945225980245,
            'Karak': 10.505836575875486,
            'Symbiotic': 9.398383717449866,
            'Swell': 8.560311284046692,
            'Ambient': 8.08141275067345,
            'Stargate': 8.051481592337623,
            'Mitosis': 7.84196348398683,
            'ZeroLend': 7.7521700089793475,
            'Aerodrome': 6.914097575576175,
            'Pencils Protocol': 6.764441783897037,
            'Reya': 6.465130200538762,
            'Fuel': 5.956300508829691,
            'SyncSwap': 5.9263693504938635,
            'Mendi Finance': 5.208021550434002,
            'Uniswap V3': 5.118228075426519,
            'Velodrome V2': 5.088296917090691,
            'LayerBank': 4.938641125411554,
            'AltLayer': 4.759054175396588},
        'Lending': {'Aave V3': 22.424242424242426,
            'Convex': 21.515151515151516,
            'Pendle V2': 19.696969696969695,
            'ether.fi': 15.757575757575756,
            'Uniswap V3': 10.909090909090908,
            'EigenLayer': 9.090909090909092,
            'Stake DAO': 7.575757575757576,
            'ZeroLend': 7.575757575757576,
            'Ethena': 7.2727272727272725,
            'Swell': 7.2727272727272725,
            'Symbiotic': 7.2727272727272725,
            'Elixir': 6.363636363636363,
            'Aerodrome': 6.363636363636363,
            'Zircuit': 5.757575757575758,
            'LIDO': 5.757575757575758,
            'Velodrome V2': 5.757575757575758,
            'Beefy': 5.757575757575758,
            'Synthetix': 5.454545454545454,
            'Karak': 5.454545454545454,
            'Aave V2': 5.151515151515151,
            'Morpho Blue': 5.151515151515151,
            'LayerBank': 4.545454545454546,
            'Prisma Finance': 4.545454545454546,
            'Yearn V2': 4.242424242424243,
            'Llama Airforce Union': 4.242424242424243},
        'crvUSD': {'Aave V3': 12.955974842767295,
            'Convex': 7.9245283018867925,
            'Aave V2': 6.226415094339623,
            'Pendle V2': 4.339622641509433,
            'LIDO': 3.710691823899371,
            'Aerodrome': 3.207547169811321,
            'ether.fi': 3.1446540880503147,
            'EigenLayer': 2.767295597484277,
            'Frax': 2.6415094339622645,
            'Stake DAO': 2.578616352201258,
            'Uniswap V3': 2.515723270440252,
            'GMX': 2.4528301886792456,
            'Fraxlend': 2.3899371069182394,
            'Beefy': 2.3899371069182394,
            'Velodrome V2': 2.3899371069182394,
            'Synthetix': 2.2641509433962264,
            'Compound V3': 2.0125786163522013,
            'Camelot': 1.949685534591195,
            'Ethena': 1.949685534591195,
            'Llama Airforce Union': 1.949685534591195,
            'Yearn V2': 1.8867924528301887,
            'Morpho Blue': 1.8238993710691824,
            'Frankencoin': 1.7610062893081762,
            'Votium': 1.7610062893081762,
            'Magpie XYZ': 1.6981132075471699},
        'DAO': {'Convex': 30.048076923076923,
            'Aave V3': 18.028846153846153,
            'Velodrome V2': 16.105769230769234,
            'Synthetix': 14.663461538461538,
            'Aerodrome': 13.942307692307693,
            'Frax': 12.980769230769232,
            'Stake DAO': 12.740384615384615,
            'Pendle V2': 10.817307692307693,
            'Concentrator': 10.336538461538462,
            'Aave V2': 10.096153846153847,
            'Yearn V2': 9.134615384615383,
            'Llama Airforce Union': 8.653846153846153,
            'LIDO': 8.653846153846153,
            'Aura Finance': 8.413461538461538,
            'Votium': 7.9326923076923075,
            'Uniswap V3': 7.6923076923076925,
            'GMX': 7.211538461538461,
            'EigenLayer': 6.971153846153847,
            'ether.fi': 6.971153846153847,
            'Stargate': 6.730769230769231,
            'Fixedforex': 6.490384615384616,
            'Balancer V2': 6.25,
            'CoW Swap': 6.25,
            'RAMSES': 6.009615384615385,
            'ParaSwap': 6.009615384615385}},
    'base': {'All': {'Aave V3': 10.682004930156122,
            'ZeroLend': 5.258833196384552,
            'Aerodrome': 5.094494658997535,
            'Convex': 4.683648315529991,
            'Stargate': 4.026294165981923,
            'Ambient': 3.779786359901397,
            'Mendi Finance': 3.61544782251438,
            'SyncSwap': 3.451109285127362,
            'Uniswap V3': 3.2867707477403454,
            'Pencils Protocol': 3.2867707477403454,
            'LayerBank': 3.2046014790468362,
            'Elixir': 2.7937551355792936,
            'Beefy': 2.711585866885785,
            'ether.fi': 2.711585866885785,
            'Mitosis': 2.629416598192276,
            'Velodrome V2': 2.629416598192276,
            'Zircuit': 2.38290879211175,
            'Pendle V2': 2.218570254724733,
            'Extra Finance': 2.0542317173377156,
            'Symbiotic': 2.0542317173377156,
            'Swell': 2.0542317173377156,
            'Synthetix': 1.9720624486442069,
            'Superform': 1.9720624486442069,
            'Fuel': 1.8898931799506986,
            'ionic': 1.80772391125719},
        'Trading': {'Aave V3': 18.64406779661017,
            'Aerodrome': 11.864406779661017,
            'Convex': 10.16949152542373,
            'Uniswap V3': 8.47457627118644,
            'Layer3': 6.779661016949152,
            'Synthetix': 6.779661016949152,
            'Zircuit': 6.779661016949152,
            'PancakeSwap V3': 6.779661016949152,
            'Pencils Protocol': 6.779661016949152,
            'Base Bridge': 5.084745762711865,
            'ether.fi': 5.084745762711865,
            'Morpho Blue': 5.084745762711865,
            'Radiant Capital V2': 3.389830508474576,
            'Swell': 3.389830508474576,
            'CoW Swap': 3.389830508474576,
            'Stargate': 3.389830508474576,
            'Elixir': 3.389830508474576,
            'Ethena': 3.389830508474576,
            'Pendle V2': 3.389830508474576,
            'Fuel': 3.389830508474576,
            'Symbiotic': 3.389830508474576,
            'Balancer V2': 3.389830508474576,
            'Puffer Finance': 3.389830508474576,
            'Velodrome V2': 3.389830508474576,
            'LayerBank': 3.389830508474576},
        'UI Router': {'Aave V3': 7.293868921775898,
            'ZeroLend': 4.968287526427061,
            'Mendi Finance': 3.382663847780127,
            'Stargate': 3.171247357293869,
            'Ambient': 3.171247357293869,
            'Aerodrome': 2.748414376321353,
            'SyncSwap': 2.6427061310782243,
            'LayerBank': 2.536997885835095,
            'Convex': 2.431289640591966,
            'Pencils Protocol': 2.1141649048625792,
            'Elixir': 2.00845665961945,
            'Uniswap V3': 2.00845665961945,
            'ether.fi': 1.7970401691331923,
            'Velodrome V2': 1.6913319238900635,
            'Mitosis': 1.6913319238900635,
            'Superform': 1.5856236786469344,
            'EigenLayer': 1.5856236786469344,
            'Swell': 1.4799154334038054,
            'Symbiotic': 1.4799154334038054,
            'Pendle V2': 1.4799154334038054,
            'Beefy': 1.3742071881606766,
            'Zircuit': 1.3742071881606766,
            'Fuel': 1.3742071881606766,
            'Compound V3': 1.2684989429175475,
            'Extra Finance': 1.1627906976744187},
        'LP': {'Aave V3': 23.58490566037736,
            'Aerodrome': 13.679245283018867,
            'Convex': 13.20754716981132,
            'Beefy': 8.49056603773585,
            'ZeroLend': 8.018867924528301,
            'Stargate': 8.018867924528301,
            'SyncSwap': 7.547169811320755,
            'Pencils Protocol': 7.547169811320755,
            'Uniswap V3': 7.547169811320755,
            'Mitosis': 7.0754716981132075,
            'Ambient': 7.0754716981132075,
            'Velodrome V2': 6.60377358490566,
            'LayerBank': 6.132075471698113,
            'Elixir': 6.132075471698113,
            'ether.fi': 6.132075471698113,
            'Silo': 5.660377358490567,
            'Zircuit': 5.660377358490567,
            'Extra Finance': 5.660377358490567,
            'ionic': 5.188679245283019,
            'Pendle V2': 5.188679245283019,
            'Synthetix': 5.188679245283019,
            'Mendi Finance': 5.188679245283019,
            'Symbiotic': 4.245283018867925,
            'GMX': 4.245283018867925,
            'Morpho Blue': 4.245283018867925},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'xdai': {'All': {'Aave V3': 22.22222222222222,
            'StakeWise': 13.580246913580247,
            'CoW Swap': 11.11111111111111,
            'Convex': 9.876543209876543,
            'LIDO': 8.641975308641975,
            'Stake DAO': 8.641975308641975,
            'Aura Finance': 8.641975308641975,
            'gTrade': 7.4074074074074066,
            'Balancer V2': 7.4074074074074066,
            'Velodrome V2': 7.4074074074074066,
            'Gnosis Beacon Chain': 6.172839506172839,
            'Polygon Staking': 4.938271604938271,
            'The Graph': 4.938271604938271,
            'Livepeer': 4.938271604938271,
            'ether.fi': 4.938271604938271,
            'CLever CVX': 4.938271604938271,
            'Beefy': 4.938271604938271,
            'Gnosis': 4.938271604938271,
            'Extra Finance': 4.938271604938271,
            'Pendle V2': 4.938271604938271,
            'Aerodrome': 4.938271604938271,
            'Maker': 3.7037037037037033,
            'Concentrator': 3.7037037037037033,
            'Silo': 3.7037037037037033,
            'GMX': 3.7037037037037033},
        'Trading': {'StakeWise': 17.77777777777778,
            'Aave V3': 15.555555555555555,
            'CoW Swap': 8.88888888888889,
            'Convex': 8.88888888888889,
            'Aerodrome': 6.666666666666667,
            'Pendle V2': 6.666666666666667,
            'LIDO': 6.666666666666667,
            'GMX': 6.666666666666667,
            'gTrade': 6.666666666666667,
            'Velodrome V2': 6.666666666666667,
            'Aura Finance': 6.666666666666667,
            'ZeroLend': 6.666666666666667,
            'Gnosis Beacon Chain': 6.666666666666667,
            'ether.fi': 6.666666666666667,
            'Extra Finance': 4.444444444444445,
            'Stake DAO': 4.444444444444445,
            'Pencils Protocol': 4.444444444444445,
            'Bent Finance': 4.444444444444445,
            'Equalizer': 4.444444444444445,
            'Llama Airforce Union': 4.444444444444445,
            'Fraxlend': 4.444444444444445,
            'Zircuit': 4.444444444444445,
            'Polygon Staking': 4.444444444444445,
            'Lynex': 4.444444444444445,
            'The Graph': 4.444444444444445},
        'UI Router': {'Aave V3': 35.0,
            'Convex': 15.0,
            'Stake DAO': 15.0,
            'StakeWise': 15.0,
            'Gnosis': 10.0,
            'f(x) Protocol': 10.0,
            'The Graph': 10.0,
            'Livepeer': 10.0,
            'Concentrator': 10.0,
            'CoW Swap': 10.0,
            'LIDO': 10.0,
            'Beefy': 10.0,
            'Polygon Staking': 10.0,
            'gTrade': 10.0,
            'GMX V2': 10.0,
            'Conic Finance': 10.0,
            'Balancer V2': 10.0,
            'Velodrome V2': 10.0,
            'Morpho Blue': 5.0,
            'ChainLink': 5.0,
            'dYdX': 5.0,
            'Venus': 5.0,
            'Boba Network Gateway': 5.0,
            'Aave V2': 5.0,
            'API3': 5.0},
        'LP': {'Aave V3': 25.0,
            'Aura Finance': 18.75,
            'CoW Swap': 18.75,
            'CLever CVX': 12.5,
            'Gnosis': 12.5,
            'Spark': 12.5,
            'LIDO': 12.5,
            'Stake DAO': 12.5,
            'Balancer V2': 12.5,
            'Iron Bank': 6.25,
            'Pendle V2': 6.25,
            'Yearn V2': 6.25,
            'Convex': 6.25,
            'Bent Finance': 6.25,
            'Fraxlend': 6.25,
            'WigoSwap': 6.25,
            'Ajna.finance': 6.25,
            'Asymmetry Finance': 6.25,
            'Pickle': 6.25,
            'Gnosis Beacon Chain': 6.25,
            'Convergence': 6.25,
            'Gearbox': 6.25,
            'Cream': 6.25,
            'Hop Protocol': 6.25,
            'dYdX': 6.25},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'polygon': {'All': {'Aave V3': 12.250712250712251,
            'Convex': 6.077872744539412,
            'Beefy': 5.413105413105413,
            'ether.fi': 3.9886039886039883,
            'ZeroLend': 3.89363722697056,
            'Mendi Finance': 3.7037037037037033,
            'Pendle V2': 3.323836657169991,
            'Layer3': 3.2288698955365627,
            'Uniswap V3': 3.2288698955365627,
            'Aerodrome': 3.2288698955365627,
            'Mitosis': 3.133903133903134,
            'Velodrome V2': 3.038936372269706,
            'Stake DAO': 2.9439696106362776,
            'EigenLayer': 2.9439696106362776,
            'Ambient': 2.9439696106362776,
            'Silo': 2.9439696106362776,
            'Balancer V2': 2.849002849002849,
            'Ethena': 2.564102564102564,
            'Radiant Capital V2': 2.4691358024691357,
            'Compound V3': 2.4691358024691357,
            'Elixir': 2.2792022792022792,
            'Stargate': 2.2792022792022792,
            'Lynex': 2.2792022792022792,
            'PancakeSwap V3': 1.9943019943019942,
            'Morpho Blue': 1.9943019943019942},
        'Trading': {'Aave V3': 8.80503144654088,
            'Stake DAO': 3.7735849056603774,
            'Convex': 3.7735849056603774,
            'Balancer V2': 3.1446540880503147,
            'ParaSwap': 3.1446540880503147,
            'Uniswap V3': 3.1446540880503147,
            'Beefy': 3.1446540880503147,
            'Velodrome V2': 2.515723270440252,
            'Compound V3': 2.515723270440252,
            'Stader': 2.515723270440252,
            'Morpho Blue': 2.515723270440252,
            'Extra Finance': 1.8867924528301887,
            'Trader Joe': 1.8867924528301887,
            'Silo': 1.8867924528301887,
            'ZeroLend': 1.8867924528301887,
            'Merkl': 1.8867924528301887,
            'Radiant Capital V2': 1.8867924528301887,
            'Aerodrome': 1.8867924528301887,
            'PancakeSwap': 1.8867924528301887,
            'PancakeSwap V3': 1.8867924528301887,
            'QuickSwap': 1.8867924528301887,
            'Aura Finance': 1.8867924528301887,
            'Dolomite': 1.8867924528301887,
            'Contango': 1.257861635220126,
            'Kwenta': 1.257861635220126},
        'UI Router': {'Aave V3': 8.75796178343949,
            'Convex': 4.140127388535031,
            'Mendi Finance': 4.140127388535031,
            'Layer3': 3.9808917197452227,
            'ether.fi': 3.821656050955414,
            'Ambient': 3.5031847133757963,
            'Beefy': 3.5031847133757963,
            'ZeroLend': 3.343949044585987,
            'Mitosis': 3.343949044585987,
            'EigenLayer': 3.1847133757961785,
            'Ethena': 3.0254777070063694,
            'Pendle V2': 3.0254777070063694,
            'Aerodrome': 2.547770700636943,
            'LayerBank': 2.388535031847134,
            'SyncSwap': 2.229299363057325,
            'Elixir': 2.229299363057325,
            'Uniswap V3': 2.0700636942675157,
            'Velodrome V2': 2.0700636942675157,
            'Lynex': 2.0700636942675157,
            'Silo': 1.910828025477707,
            'Pencils Protocol': 1.910828025477707,
            'Balancer V2': 1.910828025477707,
            'ionic': 1.910828025477707,
            'Stargate': 1.910828025477707,
            'GMX': 1.7515923566878981},
        'LP': {'Aave V3': 22.55639097744361,
            'Convex': 12.030075187969924,
            'Beefy': 11.278195488721805,
            'ZeroLend': 6.390977443609022,
            'ether.fi': 6.015037593984962,
            'Silo': 6.015037593984962,
            'Uniswap V3': 6.015037593984962,
            'Pendle V2': 5.639097744360902,
            'Velodrome V2': 5.639097744360902,
            'Aerodrome': 5.639097744360902,
            'Radiant Capital V2': 5.263157894736842,
            'Stake DAO': 5.263157894736842,
            'Balancer V2': 4.887218045112782,
            'Mendi Finance': 4.887218045112782,
            'Magpie XYZ': 4.511278195488721,
            'Compound V3': 4.511278195488721,
            'Extra Finance': 4.135338345864661,
            'Stargate': 4.135338345864661,
            'Mitosis': 4.135338345864661,
            'EigenLayer': 4.135338345864661,
            'ParaSwap': 3.7593984962406015,
            'Morpho Blue': 3.7593984962406015,
            'Fraxlend': 3.3834586466165413,
            'Lynex': 3.3834586466165413,
            'Steer Protocol': 3.3834586466165413},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'optimism': {'All': {'Aave V3': 23.6231884057971,
            'Convex': 13.91304347826087,
            'Aerodrome': 13.478260869565217,
            'Synthetix': 12.753623188405797,
            'Velodrome V2': 10.869565217391305,
            'Beefy': 10.72463768115942,
            'Pendle V2': 10.289855072463768,
            'ether.fi': 8.840579710144928,
            'Uniswap V3': 7.971014492753622,
            'ZeroLend': 7.536231884057972,
            'Silo': 6.956521739130435,
            'EigenLayer': 6.956521739130435,
            'Balancer V2': 6.666666666666667,
            'Extra Finance': 6.666666666666667,
            'Stargate': 6.521739130434782,
            'Ambient': 6.521739130434782,
            'Aura Finance': 6.231884057971015,
            'GMX': 5.942028985507246,
            'Elixir': 5.942028985507246,
            'Stake DAO': 5.6521739130434785,
            'Camelot': 5.507246376811594,
            'Ethena': 4.9275362318840585,
            'SyncSwap': 4.9275362318840585,
            'Karak': 4.782608695652174,
            'Zircuit': 4.782608695652174},
        'Trading': {'Aave V3': 17.088607594936708,
            'Aerodrome': 9.49367088607595,
            'Synthetix': 8.860759493670885,
            'Convex': 8.860759493670885,
            'Stargate': 7.59493670886076,
            'ether.fi': 6.329113924050633,
            'ZeroLend': 6.329113924050633,
            'Velodrome V2': 6.329113924050633,
            'Pendle V2': 6.329113924050633,
            'EigenLayer': 5.063291139240507,
            'Extra Finance': 5.063291139240507,
            'Kwenta': 5.063291139240507,
            'Mendi Finance': 4.430379746835443,
            'Ambient': 4.430379746835443,
            'Synthetix V3': 4.430379746835443,
            'Silo': 4.430379746835443,
            'Elixir': 4.430379746835443,
            'Zircuit': 3.79746835443038,
            'Ethena': 3.79746835443038,
            'RAMSES': 3.79746835443038,
            'Beefy': 3.79746835443038,
            'Aura Finance': 3.79746835443038,
            'Balancer V2': 3.79746835443038,
            'Layer3': 3.79746835443038,
            'Uniswap V3': 3.1645569620253164},
        'UI Router': {'Aave V3': 20.394736842105264,
            'Convex': 12.5,
            'Synthetix': 12.171052631578947,
            'Aerodrome': 11.18421052631579,
            'Beefy': 9.539473684210527,
            'Velodrome V2': 9.539473684210527,
            'Uniswap V3': 8.552631578947368,
            'Pendle V2': 7.894736842105263,
            'ZeroLend': 7.236842105263158,
            'EigenLayer': 6.578947368421052,
            'SyncSwap': 6.25,
            'ether.fi': 6.25,
            'Balancer V2': 5.921052631578947,
            'Ambient': 5.921052631578947,
            'Stargate': 5.592105263157895,
            'Extra Finance': 5.592105263157895,
            'Silo': 5.263157894736842,
            'Aura Finance': 5.263157894736842,
            'Elixir': 5.263157894736842,
            'GMX': 4.934210526315789,
            'Stake DAO': 4.605263157894736,
            'Yearn V2': 4.605263157894736,
            'Symbiotic': 4.605263157894736,
            'Frax': 4.276315789473684,
            'Kwenta': 4.276315789473684},
        'LP': {'Aave V3': 32.45614035087719,
            'Convex': 19.298245614035086,
            'Aerodrome': 19.298245614035086,
            'Beefy': 17.105263157894736,
            'Synthetix': 16.228070175438596,
            'Pendle V2': 16.228070175438596,
            'Velodrome V2': 15.789473684210526,
            'ether.fi': 14.035087719298245,
            'Silo': 10.964912280701753,
            'Uniswap V3': 10.526315789473683,
            'GMX': 9.649122807017543,
            'Balancer V2': 9.649122807017543,
            'Aura Finance': 9.210526315789473,
            'Stake DAO': 9.210526315789473,
            'Camelot': 9.210526315789473,
            'Extra Finance': 9.210526315789473,
            'EigenLayer': 8.771929824561402,
            'Ambient': 8.771929824561402,
            'ZeroLend': 8.771929824561402,
            'Magpie XYZ': 7.894736842105263,
            'Elixir': 7.894736842105263,
            'Ethena': 7.456140350877193,
            'Zircuit': 7.456140350877193,
            'Karak': 7.456140350877193,
            'Stargate': 7.017543859649122},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'fraxtal': {'All': {'Convex': 54.87804878048781,
            'Aave V3': 37.80487804878049,
            'Frax': 31.70731707317073,
            'Fraxlend': 28.04878048780488,
            'Beefy': 27.439024390243905,
            'Aerodrome': 20.73170731707317,
            'Velodrome V2': 19.51219512195122,
            'ether.fi': 18.29268292682927,
            'Aura Finance': 15.24390243902439,
            'Camelot': 14.02439024390244,
            'Silo': 13.414634146341465,
            'RAMSES': 13.414634146341465,
            'Extra Finance': 12.804878048780488,
            'Pendle V2': 12.804878048780488,
            'Uniswap V3': 12.195121951219512,
            'Synthetix': 11.585365853658537,
            'Stargate': 11.585365853658537,
            'Balancer V2': 11.585365853658537,
            'GMX': 10.975609756097562,
            'Yearn V2': 10.975609756097562,
            'Magpie XYZ': 10.975609756097562,
            'Synthetix V3': 10.365853658536585,
            'RA': 9.75609756097561,
            'Lynex': 9.75609756097561,
            'Timeswap': 9.146341463414634},
        'Trading': {'Convex': 52.63157894736842,
            'Fraxlend': 42.10526315789473,
            'Frax': 42.10526315789473,
            'Beefy': 26.31578947368421,
            'Aave V3': 26.31578947368421,
            'Aura Finance': 26.31578947368421,
            'Velodrome V2': 21.052631578947366,
            'Balancer V2': 21.052631578947366,
            'Extra Finance': 21.052631578947366,
            'Timeswap': 21.052631578947366,
            'Lynex': 21.052631578947366,
            'RAMSES': 21.052631578947366,
            'Synthetix V3': 21.052631578947366,
            'Tokan Exchange': 15.789473684210526,
            'Synthetix': 15.789473684210526,
            'Camelot': 15.789473684210526,
            'ParaSwap': 15.789473684210526,
            'Aerodrome': 15.789473684210526,
            'Thena': 15.789473684210526,
            'Bunni': 15.789473684210526,
            'Steer Protocol': 15.789473684210526,
            'ether.fi': 15.789473684210526,
            'RA': 15.789473684210526,
            'Sablier': 10.526315789473683,
            'Acryptos': 10.526315789473683},
        'UI Router': {'Convex': 54.43037974683544,
            'Aave V3': 37.9746835443038,
            'Frax': 27.848101265822784,
            'Beefy': 24.050632911392405,
            'Fraxlend': 24.050632911392405,
            'Aerodrome': 20.253164556962027,
            'Velodrome V2': 16.455696202531644,
            'ether.fi': 16.455696202531644,
            'Silo': 12.658227848101266,
            'Aura Finance': 12.658227848101266,
            'Camelot': 12.658227848101266,
            'Yearn V2': 11.39240506329114,
            'Magpie XYZ': 11.39240506329114,
            'GMX': 11.39240506329114,
            'Pendle V2': 11.39240506329114,
            'RAMSES': 11.39240506329114,
            'Uniswap V3': 11.39240506329114,
            'Synthetix': 10.126582278481013,
            'Stargate': 10.126582278481013,
            'Extra Finance': 10.126582278481013,
            'Contango': 8.860759493670885,
            'Elixir': 8.860759493670885,
            'Balancer V2': 8.860759493670885,
            'Synthetix V3': 8.860759493670885,
            'Asymmetry Finance': 8.860759493670885},
        'LP': {'Convex': 56.060606060606055,
            'Aave V3': 40.909090909090914,
            'Frax': 33.33333333333333,
            'Beefy': 31.818181818181817,
            'Fraxlend': 28.78787878787879,
            'Velodrome V2': 22.727272727272727,
            'Aerodrome': 22.727272727272727,
            'ether.fi': 21.21212121212121,
            'Pendle V2': 15.151515151515152,
            'Aura Finance': 15.151515151515152,
            'Camelot': 15.151515151515152,
            'Silo': 15.151515151515152,
            'RAMSES': 13.636363636363635,
            'Uniswap V3': 13.636363636363635,
            'Stargate': 13.636363636363635,
            'Magpie XYZ': 13.636363636363635,
            'Extra Finance': 13.636363636363635,
            'GMX': 12.121212121212121,
            'Balancer V2': 12.121212121212121,
            'Synthetix': 12.121212121212121,
            'Yearn V2': 12.121212121212121,
            'Asymmetry Finance': 10.606060606060606,
            'Compound V3': 10.606060606060606,
            'Stake DAO': 10.606060606060606,
            'Dinero': 10.606060606060606},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}},
    'fantom': {'All': {'Aave V3': 7.4074074074074066,
            'Beefy': 4.938271604938271,
            'EYWA': 3.7037037037037033,
            'Stake DAO': 3.7037037037037033,
            'Balancer V2': 3.7037037037037033,
            'Morpho Blue': 3.7037037037037033,
            'Convex': 3.7037037037037033,
            'lendle.xyz': 2.4691358024691357,
            'Merchant Moe': 2.4691358024691357,
            'USDV': 2.4691358024691357,
            'Uniswap V3': 2.4691358024691357,
            'Blackwing': 2.4691358024691357,
            'f(x) Protocol': 2.4691358024691357,
            'LIDO': 2.4691358024691357,
            'Strike Finance': 2.4691358024691357,
            'Pendle V2': 2.4691358024691357,
            'Llama Airforce Union': 2.4691358024691357,
            'Karak': 2.4691358024691357,
            'CLever CVX': 2.4691358024691357,
            'Radiant Capital V2': 2.4691358024691357,
            'Thena': 2.4691358024691357,
            'PancakeSwap V3': 2.4691358024691357,
            'Liquid Driver': 2.4691358024691357,
            'Extra Finance': 2.4691358024691357,
            'ether.fi': 2.4691358024691357},
        'Trading': {'Radiant Capital V2': 2.564102564102564,
            'Strike Finance': 2.564102564102564,
            'BlasterSwap': 2.564102564102564,
            'Aave V2': 2.564102564102564,
            'Aave V3': 2.564102564102564,
            'lendle.xyz': 2.564102564102564,
            'Merchant Moe': 2.564102564102564,
            'USDV': 2.564102564102564,
            'The Granary': 2.564102564102564,
            'Avalaunch': 2.564102564102564,
            'Steer Protocol': 2.564102564102564,
            'Extra Finance': 2.564102564102564,
            'ether.fi': 2.564102564102564,
            'Puffer Finance': 2.564102564102564,
            'SyncSwap': 2.564102564102564,
            'LayerBank': 2.564102564102564,
            'Stargate': 2.564102564102564,
            'Ambient': 2.564102564102564,
            'EchoDEX': 2.564102564102564,
            'Pepecoin': 2.564102564102564,
            'Mars Ecosystem': 2.564102564102564,
            'PancakeSwap V3': 2.564102564102564,
            'Beefy': 2.564102564102564,
            'Morpho Blue': 2.564102564102564,
            'Balancer V2': 2.564102564102564},
        'UI Router': {'Karak': 5.0,
            'Ambient': 5.0,
            'Blackwing': 5.0,
            'ZeroLend': 5.0,
            'Aave V3': 5.0,
            'WigoSwap': 5.0,
            'Equalizer': 5.0},
        'LP': {'Aave V3': 18.181818181818183,
            'Convex': 13.636363636363635,
            'Beefy': 13.636363636363635,
            'Stake DAO': 13.636363636363635,
            'EYWA': 13.636363636363635,
            'Thena': 9.090909090909092,
            'LIDO': 9.090909090909092,
            'CLever CVX': 9.090909090909092,
            'Llama Airforce Union': 9.090909090909092,
            'Uniswap V3': 9.090909090909092,
            'Pendle V2': 9.090909090909092,
            'Morpho Blue': 9.090909090909092,
            'Balancer V2': 9.090909090909092,
            'f(x) Protocol': 9.090909090909092,
            'RAMSES': 4.545454545454546,
            'mellow': 4.545454545454546,
            'Karak': 4.545454545454546,
            'Gravita Protocol': 4.545454545454546,
            'Goldfinch': 4.545454545454546,
            'Gearbox': 4.545454545454546,
            'Cleopatra': 4.545454545454546,
            'Velodrome V2': 4.545454545454546,
            'Convergence': 4.545454545454546,
            'DackieSwap': 4.545454545454546,
            'Maverick V2': 4.545454545454546},
        'Lending': {},
        'crvUSD': {},
        'DAO': {}}}

    let overlapBarChart;

function createOverlapProductSelector(elementId, onChangeCallback) {
    const selectElement = document.getElementById(elementId);
    if (!selectElement) {
        console.error(`Element with id "${elementId}" not found`);
        return null;
    }

    selectElement.innerHTML = '';

    overlapProductList.forEach(product => {
        const option = document.createElement('option');
        option.value = product;
        option.textContent = product;
        selectElement.appendChild(option);
    });

    selectElement.addEventListener('change', (event) => {
        onChangeCallback(event.target.value);
    });

    return selectElement.value;
}

function createOverlapBarChart(data, product) {
    const ctx = document.getElementById('overlapBarChart').getContext('2d');

    if (overlapBarChart) {
        overlapBarChart.destroy();
    }

    if (!data || !data[product]) {
        displayOverlapErrorMessage(`No data available for ${product} on this chain.`);
        return;
    }

    const sortedData = Object.entries(data[product]).sort((a, b) => b[1] - a[1]).slice(0, 25);
    const labels = sortedData.map(item => item[0]);
    const values = sortedData.map(item => item[1]);

    overlapBarChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: `${product} User Overlap`,
                data: values,
                backgroundColor: 'rgba(75, 192, 192, 0.6)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            //maintainAspectRatio: false,
            aspectRatio: 1.05,
            scales: {
                x: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Percentage of Curve Users also using the protocol'
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: 'Protocols'
                    }
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: `${product} User Overlap with Other Protocols`
                },
                legend: {
                    display: false
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return `${context.parsed.x.toFixed(2)}%`;
                        }
                    }
                }
            }
        }
    });
}

function displayOverlapErrorMessage(message) {
    const ctx = document.getElementById('overlapBarChart').getContext('2d');
    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
    ctx.font = '20px Arial';
    ctx.fillStyle = 'red';
    ctx.textAlign = 'center';
    ctx.fillText(message, ctx.canvas.width / 2, ctx.canvas.height / 2);
}

function updateOverlapBarChart(selectedChain, selectedProduct) {
    if (overlapData[selectedChain] && overlapData[selectedChain][selectedProduct]) {
        createOverlapBarChart(overlapData[selectedChain], selectedProduct);
    } else {
        displayOverlapErrorMessage(`Data not available for chain: ${selectedChain}, product: ${selectedProduct}`);
    }
}

function updateOverlapProductSelector(selectedChain) {
    const productSelect = document.getElementById('productSelectOverlap');
    productSelect.innerHTML = '';

    overlapProductList.forEach(product => {
        if (overlapData[selectedChain] && overlapData[selectedChain][product]) {
            const option = document.createElement('option');
            option.value = product;
            option.textContent = product;
            productSelect.appendChild(option);
        }
    });

    productSelect.value = 'All';
}

document.addEventListener('DOMContentLoaded', () => {
    const chainSelect = document.getElementById('chainSelectOverlap');
    const productSelect = document.getElementById('productSelectOverlap');

    const initialChain = createChainSelector('chainSelectOverlap', (chain) => {
        updateOverlapProductSelector(chain);
        updateOverlapBarChart(chain, productSelect.value);
    });

    createOverlapProductSelector('productSelectOverlap', (product) => {
        updateOverlapBarChart(chainSelect.value, product);
    });

    chainSelect.value = initialChain || 'all';
    updateOverlapProductSelector(chainSelect.value);
    productSelect.value = 'All';

    updateOverlapBarChart(chainSelect.value, productSelect.value);
});